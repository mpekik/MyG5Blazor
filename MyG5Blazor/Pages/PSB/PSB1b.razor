@page "/PSB/1b"

@using MyG5Blazor.Data
@using System.Linq;

@inject IJSRuntime JSRuntime
@inject Costumer cst
@inject NavigationManager NavMan
@inject Transaction trans
@inject Config config
@inject Menu menu

<div class="main-panel bg-home">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
        <div class="container-fluid">
            <div class="navbar-wrapper">
                <div class="logo">
                    <img src="../../assets/image/Logo/Logo_MyGraPARI.png" />
                </div>
                <!-- <a class="navbar-brand" href="javascript:;">Dashboard</a> -->
            </div>
        </div>
    </nav>
    <!-- End Navbar -->

    <div class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    <div class="teks-title">Berlangganan Kartu Halo</div>
                    <div id="konfirmasi-teks" class="teks-status">Silakan Pilih Paket yang Anda Butuhkan</div>
                    <div class="teks-center3">Batas Pemakaian akan Mengikuti<br>2x Harga Paket yang Anda Pilih</div>
                    <div class="teks-bot">Penagihan Dilakukan pada Setiap<br> Tanggal 1 di Bulan Berikutnya</div>
                </div>

                <div class="col-md-6">
                    <div class="form-input-data">
                        <div class="col-md-12" style="margin-left: 1.5%;">
                            <div class="form-group" style="display: flex;">
                                <div class="card" style="width: 18.5rem; background-color: #F1F1F1; cursor: pointer;" id="myBtn">
                                    <h4 class="card-header" style="font-weight: bold; color: red;">Halo Kick Gold</h4>
                                    <div class="row">
                                        <div class="col-md-6" style="display: flex;">
                                            <p class="card-header nominal-kuota">15</p>
                                            <p class="card-header giga-bytes">GB</p>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card-header detail-1">15 GB<br>Lainnya</div>
                                            <div class="card-header detail-2">Kuota Telepon dan SMS</div>
                                        </div>
                                    </div>
                                    <div class="card-body" style="background-color: white; border-radius: 8px;">
                                        <h3 class="card-title" style="font-weight: bold; text-align: center; color: red;">Rp 100.000</h3>
                                    </div>
                                </div>
                                <div class="card" style="width: 18.5rem; background-color: #F1F1F1; margin-left: 1rem; cursor: pointer;" id="myBtn2">
                                    <h4 class="card-header" style="font-weight: bold; color: red;">Halo Kick Gold</h4>
                                    <div class="row">
                                        <div class="col-md-6" style="display: flex;">
                                            <p class="card-header nominal-kuota">25</p>
                                            <p class="card-header giga-bytes">GB</p>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card-header detail-1">25 GB<br>Lainnya</div>
                                            <div class="card-header detail-2">Kuota Telepon dan SMS</div>
                                        </div>
                                    </div>
                                    <div class="card-body" style="background-color: white; border-radius: 8px;">
                                        <h3 class="card-title" style="font-weight: bold; text-align: center; color: red;">Rp 150.000</h3>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group" style="display: flex; margin-top: -3rem;">
                                <div class="card" style="width: 18.5rem; background-color: #F1F1F1; cursor: pointer;" id="myBtn3">
                                    <h4 class="card-header" style="font-weight: bold; color: red;">Halo Kick Platinum</h4>
                                    <div class="row">
                                        <div class="col-md-6" style="display: flex;">
                                            <p class="card-header nominal-kuota">50</p>
                                            <p class="card-header giga-bytes">GB</p>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card-header detail-1">50 GB<br>Lainnya</div>
                                            <div class="card-header detail-2">Kuota Telepon dan SMS</div>
                                        </div>
                                    </div>
                                    <div class="card-body" style="background-color: white; border-radius: 8px;">
                                        <h3 class="card-title" style="font-weight: bold; text-align: center; color: red;">Rp 300.000</h3>
                                    </div>
                                </div>

                                <div class="card" style="width: 18.5rem; background-color: #F1F1F1; margin-left: 1rem; cursor: pointer;" id="myBtn4">
                                    <h4 class="card-header" style="font-weight: bold; color: red;">Halo Kick Platinum</h4>
                                    <div class="row">
                                        <div class="col-md-6" style="display: flex;">
                                            <p class="card-header nominal-kuota">100</p>
                                            <p class="card-header giga-bytes">GB</p>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="card-header detail-1">100 GB<br>Lainnya</div>
                                            <div class="card-header detail-2">Kuota Telepon dan SMS</div>
                                        </div>
                                    </div>
                                    <div class="card-body" style="background-color: white; border-radius: 8px;">
                                        <h3 class="card-title" style="font-weight: bold; text-align: center; color: red;">Rp 550.000</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="" style="text-align: center;">
                                <button class="btn btn-danger btn-right2" onclick="buttonOk()" id="btn-ok" value="">Pilihan Berikutnya</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <div class="centered">Silakan Tekan Menu yang Anda Inginkan</div> -->
    <footer>
        <div class="footer-side1">
            <span class="dot" id="dot-active">1</span>
            <span class="dot">2</span>
            <span class="dot">3</span>
            <span class="dot">4</span>
            <span class="dot2">5</span>
            <span class="dot2">6</span>
            <span class="dot2">7</span>
            <span class="dot2">8</span>
            <span class="dot2">9</span>
        </div>
        <div class="footer-side2">
            <button @onclick="Back" class="btn-arrow btn" value="">Kembali</button>
            <button @onclick="MainMenu" class="btn-arrow btn" value="">Menu Utama</button>
            <!-- <sup>Powered By </sup>Trilogi Persada -->
        </div>
    </footer>
    @if (isTimeOut)
    {
        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                            <p class="text-body"><span style="font-weight: bold;">Sesi Anda akan segera berakhir.</span><br />Anda akan keluar dari sistem dalam <span style="font-weight: bold;"></span> detik.</p>
                            <button class="btn btn-danger modal-button" >OK</button>
                        <!-- <button class="btn btn-light modal-button">Tidak</button> -->
                    </div>
                </div>
            </div>

        </div>
    }
</div>

@code
{
    private bool isTimeOut = false;

    protected override async Task OnInitializedAsync()
    {

    }

    private void NavigateTo(string strURL)
    {
        NavMan.NavigateTo(strURL);
    }
    private async Task MainMenu()
    {
        trans.AddTrail("CHOOSE NOMINAL", "BACK TO MAIN MENU", "CANCELED BY USER");
        trans.status = "02";
        await OurUtility.AuditTrail(trans, menu, cst);
        NavMan.NavigateTo("/main");
    }
    private async Task Back()
    {
        NavMan.NavigateTo("/PSB/1a");
    }

    protected override void OnAfterRender(bool bFirstRender)
    {
        if (bFirstRender)
        {
            //timer = true;
            //theJavaScriptEngine.InvokeAsync<System.Object>("setupUserIdleTimer", new object[] { Microsoft.JSInterop.DotNetObjectReference.Create(this), 10000, true });

            //this.StateHasChanged();
        }
    }


}
